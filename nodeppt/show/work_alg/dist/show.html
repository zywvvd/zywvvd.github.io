<!doctype html><html><head><meta charset=UTF-8><title>Boeye 算法设计说明 - By 张逸为</title><link rel=stylesheet href=https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdn.staticfile.org/prism/1.15.0/themes/prism.min.css><link rel=stylesheet href=https://cdn.staticfile.org/KaTeX/0.10.0-rc.1/katex.min.css><link rel=stylesheet href=css/style.css><link rel=stylesheet href=https://cdn.staticfile.org/KaTeX/0.5.1/katex.min.css><link href=./css/chunk-vendors.4e4765ff.css rel=stylesheet></head><body><div><article id=webslides><section slide class="slide bg-apple aligncenter"><div class=wrap wrap=true><h2 class=text-landing>Boeye 算法设计说明</h2><hr><hr><font size=5 face=微软雅黑><p>张逸为</p><p>2025.1.16</p></font></div></section><section slide class="slide bg-white aligncenter"><div class=wrap wrap=true><font size=7 face=微软雅黑><div class=content-left><h3 class=text-landing><strong>简介</strong></h3><hr><p>Boeye 算法适用于以<strong>可编程控制的 DJI 无人机数据采集系统</strong>为依托，在一块<strong>指定区域内</strong>完成<strong>数据采集、数据处理、数据管理、数据分析</strong>任务，按照用户需求<strong>输出分析结果</strong>的任务体系框架。</p><p>用于解决通过无人机数据可以获取、识别、重建出有效目标信息的问题。</p></div><div class=content-right><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151420088.png alt=""></p></div></font></div></section><section slide class="slide bg-white aligncenter"><div class=wrap wrap=true><font size=6 face=微软雅黑><h3 class=text-landing><strong>输入输出</strong></h3><hr><div class=content-left><h4><strong>系统输入</strong></h4><hr><ol><li><p>任务ID</p><hr></li><li><p>任务类型列表</p><hr></li><li><p>区域范围</p><hr></li><li><p>任务时间</p></li></ol></div><div class=content-right><h4><strong>系统输出</strong></h4><hr><ol><li><p>消息反馈：</p><ul><li><p>任务执行结果报告</p></li><li><p>执行过程中的心跳状态信息（开发中）</p></li></ul><hr></li><li><p>数据库：</p><ul><li><p>2D 地图</p></li><li><p>高程地图（开发中）</p></li><li><p>3D 模型</p></li><li><p>任务识别结果</p></li></ul></li></ol></div></font></div></section><section slide class="slide bg-apple alignleft"><div class=wrap wrap=true><font size=4><h3 class=text-subtitle>设计理念</h3><hr><div class="bg-white shadow"><ul class="flexblock reasons"><li><h4>代码复用</h4></li><li><h4>模块解藕</h4></li><li><h4>原子结果</h4></li><li><h4>生产者消费者模式</h4></li><li><h4>未来扩展 <font color=#CCC size=4>数据库硬盘可扩展, 局域网内分布式计算 </font></h4></li></ul></div></font></div></section><section slide class="slide bg-white slide-bottom"><div class=wrap wrap=true><font size=6><h3>工作流程</h3><hr><div class=embed><pre class="lang-mermaid no-style">graph LR
A(任务信息)
B(算法任务)
C(数据采集)
D(数据建模)
E(构建地图)
F(元素识别)
G(结果映射)
H(结果判定)
I(报告生成)
J(高程地图)

A --拆分-->B
B --下达-->C
C --数据-->D
D --2D模型-->E
D --3D模型-->J
D --无畸变数据-->F
F --识别结果-->G
G --映射地图-->H

E -->I
H -->I

</pre></div></font></div></section><section slide class="slide bg-white"><div class=wrap wrap=true><h3>算法模块</h3><font size=4><table><thead><tr><th>序号</th><th>模块</th><th>模块名称</th><th>SSH Port</th><th>说明</th></tr></thead><tbody><tr><td>0</td><td>筑基模块</td><td>BaseModules</td><td>—</td><td>通用仓库： vvdutils, boeye 通用仓库： boeyeutils, 数据库管理模块, 算法 docker 基础镜像, 模块执行者</td></tr><tr><td>1</td><td>任务管理者</td><td>TaskManager</td><td>2223</td><td>接受软件输入，建立 task info 数据条目</td></tr><tr><td>2</td><td>任务分配者</td><td>TaskAssigner</td><td>2224</td><td>将 task_info 内容拆分为 alg_task_info 条目信息</td></tr><tr><td>3</td><td>无人机控制者</td><td>DroneController</td><td>2225</td><td>从 Alg Task Info 中获取数据条目，创建无人机任务获取数据</td></tr><tr><td>4</td><td>原始数据归档者</td><td>DataArchiver</td><td>2225</td><td>将无人机采集到的数据归档到数据库中</td></tr><tr><td>5</td><td>算法任务拆分者</td><td>TaskSpliter</td><td>2226</td><td>将算法任务拆分为规模较小的子任务</td></tr><tr><td>6</td><td>BDM 执行者</td><td>BDMWorker</td><td>2227</td><td>运行算法子任务</td></tr><tr><td>7</td><td>2D 地图执行者</td><td>2DMapBuilder</td><td>2228</td><td>运行地图算法</td></tr><tr><td>8</td><td>模型运行者</td><td>ModelRunner</td><td>2229</td><td>执行 AI 识别算法</td></tr><tr><td>9</td><td>结果映射者</td><td>ResultMapper</td><td>2230</td><td>将图像AI识别结果映射到世界地图</td></tr><tr><td>10</td><td>元素识别者</td><td>ItemRecoginser</td><td>2231</td><td>将识别结果映射到具体元素中</td></tr><tr><td>11</td><td>任务进度管理者</td><td>TaskProgressManager</td><td>2232</td><td>管理任务进度，负责子任务和算法任务之间的数据关，负责填写各个 result 信息</td></tr><tr><td>12</td><td>报告者</td><td>Reporter</td><td>2233</td><td>生成任务报告</td></tr><tr><td>13</td><td>数据标注者</td><td>DataLabeler</td><td>2234</td><td>标注现场数据</td></tr><tr><td>14</td><td>通信者</td><td>Messenger</td><td>2235</td><td>用于软算通信的模块，管理两条消息队列</td></tr><tr><td>15</td><td>高程构建者</td><td>AltitudeMaker</td><td>2236</td><td>构建高程地图信息</td></tr></tbody></table></font></div></section><section slide class="slide bg-white alignleft"><div class=wrap wrap=true><font size=3><h4>模块协作流程</h4><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202503111006204.png alt=""></p></font></div></section><section slide class="slide bg-white"><div class=wrap wrap=true><font size=4 face=微软雅黑><h3 class=text-subtitle><strong>任务获取</strong></h3><font color=#CCC size=4>相关模块:: <code>通信者</code> <code>任务管理者</code></font><div class=grid><div class=column><h4 class=text-subtitle><strong>系统输入</strong></h4><ul><li><p>任务ID</p></li><li><p>任务类型列表</p></li><li><p>区域范围</p></li><li><p>任务时间</p></li></ul></div><div class=column><h4 class=text-subtitle><strong>算法流程</strong></h4><ul><li>飞行高度</li><li>任务时间</li><li>任务类型（面、线）</li><li>UTM zone 分片</li></ul></div></div><table><thead><tr><th>任务码</th><th>业务名称</th><th>业务内容</th><th>飞行高度</th><th>模型名称</th><th>业务编码</th><th>备注</th></tr></thead><tbody><tr><td>1</td><td>pile</td><td>光伏组件打桩施工统计</td><td>60</td><td>module</td><td>144</td><td>面状航线任务</td></tr><tr><td>2</td><td>carrier</td><td>光伏组件支架施工统计</td><td>60</td><td>module</td><td>152</td><td>面状航线任务</td></tr><tr><td>3</td><td>module</td><td>光伏组件施工统计</td><td>90</td><td>module</td><td>160</td><td>面状航线任务</td></tr><tr><td>4</td><td>road</td><td>道路施工统计</td><td>90</td><td>road</td><td>24</td><td>线状航线任务</td></tr><tr><td>5</td><td>building</td><td>建筑统计</td><td>90</td><td>building</td><td>64</td><td>点状航线任务</td></tr><tr><td>6</td><td>boundary</td><td>围栏统计</td><td>90</td><td>boundary</td><td>48</td><td>线状航线任务</td></tr><tr><td>7</td><td>earthwork</td><td>土方量统计</td><td>90</td><td></td><td></td><td>面状航线任务</td></tr><tr><td>8</td><td>groove</td><td>沟槽统计</td><td>90</td><td>groove</td><td>128</td><td>线状航线任务</td></tr><tr><td>9</td><td>model_2D</td><td>2D 建模</td><td>90</td><td></td><td></td><td>面状航线任务</td></tr><tr><td>10</td><td>model_3D</td><td>3D 建模</td><td>90</td><td></td><td></td><td>面状航线任务</td></tr></tbody></table></font></div></section><section slide class="slide bg-apple alignleft"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3><strong>任务管理</strong></h3><font color=#CCC size=4>相关模块:: <code>任务分配者</code> <code>算法任务拆分者</code></font><p></p><h4><strong>任务拆分</strong></h4><div class=grid><div class=column><p>Task</p><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151139619.jpg alt=""></p></div><div class=column><p>AlgTask</p><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151142970.jpg alt=""></p></div></div></font></div></section><section slide class="slide bg-apple alignright"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3><strong>任务管理</strong></h3><font color=#CCC size=4>相关模块:: <code>任务分配者</code> <code>算法任务拆分者</code></font><p></p><h4>航线生成</h4><div class=grid><div class=column><ol><li><p>面状航线</p><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151150955.png alt=""></p></li></ol></div><div class=column><ol start=2><li><p>线状航线</p><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151149664.png alt=""></p></li></ol></div></div></font></div></section><section slide class="slide bg-apple alignright"><div class=wrap wrap=true><font size=5 face=微软雅黑><div class=content-left><h3><strong>数据采集</strong></h3><font color=#CCC size=4>相关模块:: <code>无人机控制者</code></font><hr><h4></h4><hr><div class="bg-white shadow"><ul class="flexblock reasons"><li><h4>控制无人机执行航线</h4></li><li><h4>断点续飞</h4></li><li><h4>数据录入 MinIO 数据库</h4></li><li><h4>数据下载到本地，原始数据归档</h4></li><li><h4>建立算法子任务</h4></li></ul></div></div><div class=content-right><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151147013.jpg alt=""></p></div></font></div></section><section slide class="slide bg-white"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3 class=text-subtitle><strong>数据建模</strong></h3><font color=#CCC size=4>相关模块:: <code>BDM 执行者</code></font><hr><div class=content-left><div class="bg-white shadow"><ul class="flexblock reasons"><li><h5>特征提取</h5></li><li><h5>特征匹配</h5></li><li><h5>去畸变</h5></li><li><h5>sfm</h5></li><li><h5>生成点云</h5></li><li><h5>3D 建模</h5></li><li><h5>2D 建模</h5></li><li><h5>相关结果文件写入数据库</h5></li></ul></div></div><div><div class=content-right><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151308922.png alt=""></p><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151616478.png alt=""></p></div></div></font></div></section><section slide class="slide bg-white aligncenter"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3><strong>构建地图</strong></h3><font color=#CCC size=4>相关模块:: <code>2D 地图执行者</code></font><hr><div class=content-left><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151316072.jpg width=1600></div><div class=content-right><h4><strong>算法流程</strong></h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><h4>确定 UTM 分区</h4></li><li><h4>将 2D 模型划分到 UTM 地图的标准地块</h4></li><li><h4>构建 0 - 8 级地图</h4></li></ul></div></div><div></div></font></div></section><section slide class="slide bg-white"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3><strong>AI 识别</strong></h3><font color=#CCC size=4>相关模块:: <code>模型运行者</code></font><hr><div class=content-left><h4>算法流程</h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><h5>获取当前任务字符串</h5></li><li><h5>获取当前子任务图片的去畸变数据</h5></li><li><h5>根据任务加载识别模型</h5></li><li><h5>运行模型识别结果</h5></li><li><h5>将识别结果写入图像数据表</h5></li></ul></div></div><div><div class=content-right><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151318093.jpeg alt=""></p></div></div></font></div></section><section slide class="slide bg-white"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3>识别结果映射</h3><font color=#CCC size=4>相关模块:: <code>结果映射者</code></font><hr><div class=content-right><h4>算法流程</h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><p><strong>加载相机内参</strong></p></li><li><p><strong>加载图像识别结果，获取图像拍摄外参</strong></p></li><li><p><strong>加载图像深度图</strong></p></li><li><p><strong>将像素识别结果转换到世界坐标</strong></p></li><li><p><strong>将映射完成的 2D 地图写入数据库</strong></p></li></ul></div></div><div><div class=content-left><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151329881.png alt=""></p></div></div></font></div></section><section slide class="slide bg-apple alignright"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3><strong>元素判定</strong></h3><font color=#CCC size=4>相关模块:: <code>元素识别者</code></font><hr><h4>算法流程</h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><p>加载任务相关2D 地图</p></li><li><p>加载区域内规划信息</p></li><li><p>匹配比对判定元素施工状态</p></li><li><p>将元素施工状态写入数据库</p></li></ul></div></font></div></section><section slide class="slide bg-black"><div class=wrap wrap=true><font size=5 face=微软雅黑><div class=content-left><h3>高程地图<font color=#CCC size=4> （开发中）</font></h3><font color=#CCC size=4>相关模块:: <code>高程构建者</code></font><hr><h4>算法流程</h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><h4>获取 3D 模型</h4></li><li><h4>提取模型点云数据</h4></li><li><h4>构建高程地图，写入数据库</h4></li></ul></div></div><div><div class=content-right><div class=content-center><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151332007.png alt=""></p></div></div></div><div></div></font></div></section><section slide class="slide bg-apple"><div class=wrap wrap=true><font size=5 face=微软雅黑><div class=content-right><h3><strong>报告生成</strong></h3><font color=#CCC size=4>相关模块:: <code>报告者</code></font><hr><p>算法流程</p><div class="bg-white shadow"><ul class="flexblock reasons"><li><p>根据任务信息统计区域内元素数据</p></li><li><p>加载任务区域内地图</p></li><li><p>绘制元素识别结果</p></li><li><p>绘制无人机航线信息</p></li><li><p>报告写入数据库</p></li><li><p>发送任务完成信息给软件端</p></li></ul></div></div><div><div class=content-left><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151337219.png alt=""></p></div></div></font></div></section><section slide class="slide bg-white"><div class=wrap wrap=true><font size=5 face=微软雅黑><div class=content-right><h3><strong>报告生成</strong></h3><font color=#CCC size=4>相关模块:: <code>报告者</code></font><hr><p>算法流程</p><div class="bg-white shadow"><ul class="flexblock reasons"><li><p>根据任务信息统计区域内元素数据</p></li><li><p>加载任务区域内地图</p></li><li><p>绘制元素识别结果</p></li><li><p>绘制无人机航线信息</p></li><li><p>报告写入数据库</p></li><li><p>发送任务完成信息给软件端</p></li></ul></div></div><div><div class=content-left><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151337049.png alt=""></p></div></div></font></div></section><section slide class="slide bg-blue alignright"><div class=wrap wrap=true><font size=5 face=微软雅黑><h3><strong>结果反馈</strong><font color=#CCC size=4></font></h3><font color=#CCC size=4>相关模块:: <code>无人机控制者</code></font><hr><h4>算法流程</h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><h4>获取机场信息</h4></li><li><h4>获取无人机飞行信息</h4></li><li><h4>定期发送收集的信息到软件</h4></li></ul></div></font></div></section><section slide class="slide bg-white aligncenter"><div class=wrap wrap=true><font size=5 face=微软雅黑><div class=content-left><h3><strong>数据标注</strong><font color=#CCC size=4></font></h3><font color=#CCC size=4>相关模块:: <code>数据标注者</code></font><hr><h4><strong>算法流程</strong></h4><div class="bg-white shadow"><ul class="flexblock reasons"><li><h5>获取子任务 2D 地图、高程地图</h5></li><li><h5>获取区域内规划组件</h5></li><li><p><strong>获取当前区域建模重建信息</strong></p></li><li><p><strong>根据任务类型与高程信息建立真实元素 3D 点云模型</strong></p></li><li><p><strong>将模型点云投影到无畸变图像，完成图像标注</strong></p></li><li><p><strong>标注微调</strong></p></li><li><p><strong>将标注信息写入数据库</strong></p></li></ul></div></div><div><div class=content-right><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151343906.png alt=""></p></div></div></font></div></section><section slide class="slide bg-black aligncenter"><div class=wrap wrap=true><font size=5><h3><strong>部署方式</strong></h3><font color=#CCC size=4>相关模块:: <code>docker 基础镜像模块</code></font><hr><p><img src=https://uipv4.zywvvd.com:33030/HexoFiles/vvd_image_files/202501151346498.png alt=""></p></font></div></section><section slide class=slide :class="size-80 bg-blue"><div class="wrap size-80 bg-blue" wrap=true><font size=5><h3><strong>算法总结</strong></h3><hr><div class=grid><div class=column><font size=6 face=微软雅黑><h4><strong>当前能力</strong></h4><p></p><ol><li><p><strong>无人机控制</strong></p><p></p></li><li><p><strong>规划元素识别</strong></p><p></p></li><li><p><strong>2D 模型构建</strong></p><p></p></li><li><p><strong>2D 地图构建</strong></p><p></p></li><li><p><strong>3D 模型构建</strong></p><p></p></li><li><p><strong>项目数据管理</strong></p></li></ol></font></div><div class=column><font size=6 face=微软雅黑><h4><strong>框架拓展</strong></h4><p></p><ol><li><p><strong>数据中心硬盘扩展</strong></p><p></p></li><li><p><strong>分布式计算</strong></p><p></p></li><li><p><strong>数据同步</strong></p></li></ol></font></div></div></font></div></section><section slide class=slide :class=bg-blue><div class="wrap bg-blue" wrap=true><font size=6><h3><strong>待讨论</strong></h3><hr><ol><li><strong>2D 地图使用方式</strong><p></p><p></p></li><li><strong>通信方式</strong> <font color=#CCC size=4>是否应答（结果信息、状态信息），分布式部署时如何通信</font><p></p><p></p></li><li><strong>无人机控制</strong><p></p><p></p></li><li><strong>数据需求</strong><p></p><p></p></li><li><strong>3D 模型需求</strong><p></p><p></p></li><li><strong>boeye 产品使用逻辑</strong><p></p><p></p></li><li><strong>分布式结果汇总逻辑</strong><p></p><p></p></li><li><strong>视频流实现方式</strong></li></ol></font></div></section></article></div><script src=https://cdn.staticfile.org/echarts/4.8.0/echarts.min.js></script><script src=https://cdn.staticfile.org/mermaid/8.5.2/mermaid.min.js></script><script>mermaid.startOnLoad = false;</script><script>window.pluginsOptions = {"echarts":{"theme":"infographic"},"mermaid":{"theme":"forest"}}



    window.webslidesOptions = {}


document.addEventListener('DOMContentLoaded', () => {
    let isPrintMode = false;
    if(~location.search.indexOf('print-pdf')){
        isPrintMode = true;
        WebSlides.registerPlugin('scroll', function(){});
    }
    const wsOptions = {
        loop: false
    };
    if(window.webslidesOptions){
        for (let i in webslidesOptions){
            if(webslidesOptions.hasOwnProperty(i)){
                wsOptions[i] = webslidesOptions[i];
            }
        }
    }
    const ws = new WebSlides(wsOptions)

    window.wsInstance = ws;
    if(isPrintMode){
        ws.slides.forEach(s=>s.show())
    }
}, false)</script><script src=./js/chunk-vendors.js></script><script src=./js/show.js></script></body></html>